<!DOCTYPE html>
<html lang="en">

    <head>

        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="">
        <meta name="author" content="">

        <title>DSL Board</title>

        <!-- Bootstrap Core CSS -->
        <link href="../vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>

        <!--Jquery ui css-->
        <link href="../vendor/jquery/jquery-ui.css" rel="stylesheet" type="text/css"/>

        <!-- Custom CSS -->
        <link href="../dist/css/sb-admin-2.css" rel="stylesheet">

        <link href="../dist/css/global-style.css" rel="stylesheet">

        <!-- pivot -->
        <link href="../vendor/pivotjs/pivot.min.css" rel="stylesheet" type="text/css"/>

        <!-- Custom Fonts -->
        <!--<link href="../vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">-->
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ" crossorigin="anonymous">

        <!--data tables-->
        <link href="../vendor/datatables/css/datatables.min.css" rel="stylesheet" type="text/css"/>

        <!-- jquery ui theme -->
        <!--<link href="../vendor/jquery/jquery-ui-datepicker/jquery-ui.css" rel="stylesheet" type="text/css">-->

        <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->


        <style>
            html {
                height: 100%;
            }
            body {
                height: 100%;
            }
            .dropbtn {
                background-color: #4CAF50;
                color: white;
                padding: 16px;
                font-size: 16px;
                border: none;
                cursor: pointer;
            }

            /* Dropdown button on hover & focus */
            .dropbtn:hover, .dropbtn:focus {
                background-color: #3e8e41;
            }

            /* The search field */
            #myInput {
                border-box: box-sizing;
                background-image: url('searchicon.png');
                background-position: 14px 12px;
                background-repeat: no-repeat;
                font-size: 16px;
                padding: 14px 20px 12px 45px;
                border: none;
                border-bottom: 1px solid #ddd;
            }

            /* The search field when it gets focus/clicked on */
            #myInput:focus {outline: 3px solid #ddd;}

            /* The container <div> - needed to position the dropdown content */
            .dropdown {
                position: relative;
                display: inline-block;
            }

            /* Dropdown Content (Hidden by Default) */
            .dropdown-content {
                display: none;
                position: absolute;
                background-color: #f6f6f6;
                min-width: 230px;
                border: 1px solid #ddd;
                z-index: 1;
            }

            /* Links inside the dropdown */
            .dropdown-content a {
                color: black;
                padding: 12px 16px;
                text-decoration: none;
                display: block;
            }

            /* Change color of dropdown links on hover */
            .dropdown-content a:hover {background-color: #f1f1f1}

            /* Show the dropdown menu (use JS to add this class to the .dropdown-content container when the user clicks on the dropdown button) */
            .show {display:block;}
            .pvtTotal, .pvtTotalLabel, .pvtGrandTotal {display: none;}

        </style>


    </head>

    <body>

        <div style="height: 100%;">

            <!-- Navigation -->
            <div id="must-nav"></div>


            <div style="width: 100%; height: 100% ;overflow: hidden;display: flex; flex-direction: row; flex-wrap: nowrap;margin-top: 20px;">
                <div style="flex-shrink: 0; width: 300px" class="categories">
                    <!-- Side bar -->
                    <div class="div-side-cover">

                        <div class="div-side-left">
                            <label for="start-period">Start period:
                                <i class="fa fa-asterisk" style="color: #FF0000; visibility: hidden" aria-hidden="true"></i>
                            </label>
                            <input id="start-period" class="form-control time-period" name="start-period" type="text">

                            <span class="expiryDate_validation error"></span>
                        </div>

                        <div class="div-side-right">
                            <label for="end-period">End period:
                                <i class="fa fa-asterisk" style="color: #FF0000; visibility: hidden" aria-hidden="true"></i>
                            </label>
                            <input id="end-period" class="form-control time-period" name="start-period" type="text">

                            <span class="expiryDate_validation error"></span>
                        </div>

                    </div>

                    <div>
                        <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
                            <div class="panel panel-default">
                                <div class="panel-heading" role="tab" id="headingOne">
                                    <h4 class="panel-title">
                                        <i style="color: #b30000;" class="fa fa-chart-line"></i> <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                            Indicator
                                        </a><i class="fa fa-caret-down cat-caret"></i>
                                    </h4>
                                </div>
                                <div id="collapseOne" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne">
                                    <div class="panel-body">

                                        <div class="form-group">
                                            <label for="IndicatorGroupNames">Indicator Group</label>

                                            <div id="IndicatorGroupNames">
                                                <!--                                                    <select id="indicator-group-names" multiple data-bind="options: $root.dhisViewModel.indicatorGroups, optionsValue: 'name', optionsText: 'name'">
                                                
                                                                                                    </select>-->
                                                <select  style="display:none"  id="indicator-group-names" 
                                                         multiple></select>                                                   
                                            </div>

                                            <label for="IndicatorNames">Indicator Name</label>

                                            <!--                                            <select id="IndicatorNames" class="form-control" multiple="multiple"
                                                                                                data-bind="options: $root.dhisViewModel.indicatorNames, optionsValue: 'name', optionsText: 'name',
                                                                                                                    selectedOptions: $root.dhisViewModel.chosenIndicatorNames, 
                                                                                                                                    multiselect: {includeSelectAllOption: true }">
                                                                                        </select>-->

                                            <div id="IndicatorNames">
                                                <!--<select style="display:none"  multiple>-->
                                                <!--                                                <select id="indicator-names" multiple data-bind="options: $root.dhisViewModel.indicatorNames, optionsValue: 'name', optionsText: 'name'">
                                                
                                                                                                </select>-->

                                                <select  style="display:none"  id="indicator-names" 
                                                         multiple></select>

                                            </div>

                                        </div>

                                    </div>
                                </div>
                            </div>
                            <div class="panel panel-default">
                                <div class="panel-heading" role="tab" id="headingTwo">
                                    <h4 class="panel-title">
                                        <i style="color: #0052cc;" class="far fa-hospital"></i> <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                            Facility
                                        </a><i class="fa fa-caret-down cat-caret"></i>
                                    </h4>
                                </div>

                                <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
                                    <div class="panel-body">
                                        <div class="form-group">
                                            <label for="facilities">Facility Name</label>
                                            <div id="facilities">
                                                <select  style="display:none"  id="facilities-list"
                                                         multiple></select>
                                                <!--                                                <select id="facilities-list" multiple data-bind="options: $root.kmlfViewModel.facilities, optionsValue: 'kmflCode', optionsText: 'name'">
                                                
                                                                                                </select>-->
                                            </div>

                                            <label for="facility-types">Facility Type</label>
                                            <div id="facility-types">
                                                <!--<select style="display:none"  multiple>-->
                                                <!--                                                <select id="facility-types-list" multiple data-bind="options: $root.kmlfViewModel.facilityTypes, optionsValue: 'kmflCode', optionsText: 'name'">
                                                
                                                                                                </select>-->

                                                <select  style="display:none"  id="facility-types-list" 
                                                         multiple></select>

                                            </div>

                                            <label for="facility-levels">Facility Level</label>
                                            <div id="facility-levels">
                                                <!--<select style="display:none"  multiple>-->
                                                <!--                                                <select id="facility-levels-list" multiple data-bind="options: $root.kmlfViewModel.facilityLevels, optionsValue: 'kmflCode', optionsText: 'name'">
                                                
                                                                                                </select>-->

                                                <select  style="display:none"  id="facility-levels-list" 
                                                         multiple></select>

                                            </div>
                                        </div>
                                    </div>

                                </div>
                                <div class="panel panel-default">
                                    <div class="panel-heading" role="tab" id="headingThree">
                                        <h4 class="panel-title">
                                            <i style="color: #a300cc;" class="fas fa-capsules"></i> <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                                Commodity
                                            </a><i class="fa fa-caret-down cat-caret"></i>
                                        </h4>
                                    </div>
                                    <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
                                        <div class="panel-body">

                                            <div class="form-group">
                                                <label for="kemsa-commodity">Commodity Name</label>
                                                <div id="kemsa-commodity">
                                                    <!--<select style="display:none"  multiple>-->
                                                    <!--                                                <select id="kemsa-commodity-list" multiple data-bind="options: $root.kemsaViewModel.commodity, optionsValue: 'name', optionsText: 'name'">
                                                    
                                                                                                    </select>
                                                    -->
                                                    <select style="display:none" id="kemsa-commodity-list" 
                                                            multiple></select>

                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>

                                <div class="panel panel-default">
                                    <div class="panel-heading" role="tab" id="headingFour">
                                        <h4 class="panel-title">
                                            <i style="color: #888844;" class="fas fa-map-marked-alt"> </i><a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                                                Region
                                            </a><i class="fa fa-caret-down cat-caret"></i>
                                        </h4>
                                    </div>
                                    <div id="collapseFour" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingFour">
                                        <div class="panel-body">
                                            <div class="form-group">
                                                <label for="countyList">County</label>

                                                <!--                                            <select id="couty-list" class="form-control" multiple="multiple"
                                                                                                    data-bind="options: $root.locationViewModel.county, optionsValue: 'name', optionsText: 'name',
                                                                                                                        selectedOptions: $root.locationViewModel.chosenCountys, 
                                                                                                                                        multiselect: {includeSelectAllOption: true }">
                                                                                            </select>-->


                                                <div id="countyList">
                                                    <!--<select style="display:none"  multiple>-->
                                                    <!--                                                <select id="couty-list" multiple data-bind="options: $root.locationViewModel.county, optionsValue: 'name', optionsText: 'name'">
                                                    
                                                                                                    </select>-->

                                                    <select style="display:none" id="couty-list" 
                                                            multiple></select>

                                                </div>

                                                <label for="constituencyList">Contituency</label>

                                                <div id="constituencyList">
                                                    <!--<select style="display:none"  multiple>-->
                                                    <!--                                                <select id="constituency-list" multiple data-bind="options: $root.locationViewModel.contituency, optionsValue: 'name', optionsText: 'name'">
                                                    
                                                                                                    </select>-->

                                                    <select style="display:none" id="constituency-list" 
                                                            multiple></select>

                                                </div>

                                                <label for="wardList">Ward</label>

                                                <div id="wardList">
                                                    <!--<select style="display:none"  multiple>-->
                                                    <!--                                                <select id="ward-list" multiple data-bind="options: $root.locationViewModel.ward, optionsValue: 'name', optionsText: 'name'">
                                                    
                                                                                                    </select>-->

                                                    <select style="display:none"  id="ward-list"  
                                                            multiple></select>

                                                </div>

                                            </div>

                                        </div>
                                    </div>
                                </div>

                                <div class="panel panel-default">
                                    <div class="panel-heading" role="tab" id="headingFive">
                                        <h4 class="panel-title">
                                            <i style="color: #00cc66;" class="fas fa-male"></i> <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
                                                Human Resource
                                            </a><i class="fa fa-caret-down cat-caret"></i>
                                        </h4>
                                    </div>
                                    <div id="collapseFive" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingFive">
                                        <div class="panel-body">
                                            <div class="form-group">
                                                <label for="exampleFormControlSelect1">Cadre Groups</label>
                                                <div id="cadre-group">
                                                    <!--                                                <select id="cadre-group-list" multiple data-bind="options: $root.ihrisViewModel.cadreGroup, optionsValue: 'name', optionsText: 'name'">
                                                    
                                                                                                    </select>-->

                                                    <select style="display:none"  id="cadre-group-list" 
                                                            multiple></select>

                                                </div>

                                                <label for="exampleFormControlSelect1">Cadre</label>
                                                <div id="cadre">
                                                    <!--                                                <select id="cadre-list" multiple data-bind="options: $root.ihrisViewModel.cadre, optionsValue: 'name', optionsText: 'name'">
                                                    
                                                                                                    </select>-->

                                                    <select style="display:none"  id="cadre-list" 
                                                            multiple></select>

                                                </div>

                                            </div>
                                        </div>
                                    </div>

                                </div>

                            </div>
                        </div>
                        <!-- End Side bar -->

                        <!-- /.sidebar-collapse -->
                    </div>

                </div>

                <div style="flex-shrink: 0; flex-grow: 1; overflow-x: scroll; width: 30em; white-space: nowrap;" class="content-item">

                    <!-- content area heading -->
                    <!--                    <div class="row">
                                            <h4 class="page-header">DSL</h4>
                                        </div>-->
                    <!-- end content area heading -->

                    <!-- /content area -->

                    <button style="margin-bottom: 3px;" class="btn btn-primary btn-sm" onclick="updateData()">Update Data</button>
                    <ul class="nav nav-tabs">
                        <li class="active">
                            <a data-toggle="tab" href="#table">Table</a></li>
                        <li><a data-toggle="tab" href="#pivot">Pivot</a></li>
                        
                    </ul>

                    <div class="tab-content">
                        <div id="table" class="tab-pane fade in active">
                            <br/>
                            <div>
                                <table id="example" class="display" style="width:100%">
                                    <thead>
                                        <tr>
                                            <th rowspan="2">Indicator</th>
                                            <th colspan="2">Cadre</th>
                                            <th colspan="3">Commodity count</th>
                                        </tr>
                                        <tr>
                                            <th>Cadre Name</th>
                                            <th>Cadre Count</th>
                                            <th>Commodity Group</th>
                                            <th>Commodity Count</th>
                                            <th>E-mail</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>Tiger Nixon</td>
                                            <td>System Architect</td>
                                            <td>320,800</td>
                                            <td>comty</td>
                                            <td>5421</td>
                                            <td>t.nixon@datatables.net</td>
                                        </tr>
                                        <tr>
                                            <td>Garrett Winters</td>
                                            <td>Accountant</td>
                                            <td>170,750</td>
                                            <td>comty</td>
                                            <td>8422</td>
                                            <td>g.winters@datatables.net</td>
                                        </tr>
                                        <tr>
                                            <td>Ashton Cox</td>
                                            <td>Junior Technical Author</td>
                                            <td>86,000</td>
                                            <td>comty</td>
                                            <td>1562</td>
                                            <td>a.cox@datatables.net</td>
                                        </tr>
                                        <tr>
                                            <td>Cedric Kelly</td>
                                            <td>Senior Javascript Developer</td>
                                            <td>433,060</td>
                                            <td>comty</td>
                                            <td>6224</td>
                                            <td>c.kelly@datatables.net</td>
                                        </tr>
                                        <tr>
                                            <td>Airi Satou</td>
                                            <td>Accountant</td>
                                            <td>162,700</td>
                                            <td>comty</td>
                                            <td>5407</td>
                                            <td>a.satou@datatables.net</td>
                                        </tr>
                                        <tr>
                                            <td>Brielle Williamson</td>
                                            <td>Integration Specialist</td>
                                            <td>372,000</td>
                                            <td>comty</td>
                                            <td>4804</td>
                                            <td>b.williamson@datatables.net</td>
                                        </tr>
                                        <tr>
                                            <td>Herrod Chandler</td>
                                            <td>Sales Assistant</td>
                                            <td>137,500</td>
                                            <td>comty</td>
                                            <td>9608</td>
                                            <td>h.chandler@datatables.net</td>
                                        </tr>
                                        <tr>
                                            <td>Rhona Davidson</td>
                                            <td>Integration Specialist</td>
                                            <td>327,900</td>
                                            <td>comty</td>
                                            <td>6200</td>
                                            <td>r.davidson@datatables.net</td>
                                        </tr>

                                        <tr>
                                            <td>Fiona Green</td>
                                            <td>Chief Operating Officer (COO)</td>
                                            <td>850,000</td>
                                            <td>comty</td>
                                            <td>2947</td>
                                            <td>f.green@datatables.net</td>
                                        </tr>
                                        <tr>
                                            <td>Shou Itou</td>
                                            <td>Regional Marketing</td>
                                            <td>163,000</td>
                                            <td>comty</td>
                                            <td>8899</td>
                                            <td>s.itou@datatables.net</td>
                                        </tr>
                                        <tr>
                                            <td>Vivian Harrell</td>
                                            <td>Financial Controller</td>
                                            <td>452,500</td>
                                            <td>comty</td>
                                            <td>9422</td>
                                            <td>v.harrell@datatables.net</td>
                                        </tr>
                                        <tr>
                                            <td>Timothy Mooney</td>
                                            <td>Office Manager</td>
                                            <td>136,200</td>
                                            <td>comty</td>
                                            <td>7580</td>
                                            <td>t.mooney@datatables.net</td>
                                        </tr>
                                        <tr>
                                            <td>Jackson Bradshaw</td>
                                            <td>Director</td>
                                            <td>645,750</td>
                                            <td>comty</td>
                                            <td>1042</td>
                                            <td>j.bradshaw@datatables.net</td>
                                        </tr>

                                    </tbody>
                                    <tfoot>
                                        <tr>
                                            <th>Cadre Name</th>
                                            <th>Cadre Count</th>
                                            <th>Commodity Group</th>
                                            <th>Commodity Count</th>
                                            <th>E-mail</th>
                                        </tr>
                                    </tfoot>
                                </table>
                            </div>
                        </div>
                        <div id="pivot" class="tab-pane fade">
                             <!-- pivot table -->
                            <div id="output" style="margin: 30px;"></div>
                        </div>
                        
                    </div>
                    
                    <!-- /end content area -->
                </div>
                <!-- /#page-wrapper -->


            </div>
            <!-- /#wrapper -->

            <!-- jQuery -->
            <script src="../vendor/jquery/jquery.min.js"></script>

            <!--data table-->
            <!--<script type="text/javascript" src="https://cdn.datatables.net/v/dt/jq-3.3.1/dt-1.10.18/datatables.min.js"></script>-->
            <script src="../vendor/datatables/js/datatables.min.js" type="text/javascript"></script>
            <script src="../vendor/jquery/jquery-ui.js"></script>

            <!-- Bootstrap Core JavaScript -->
            <script src="../vendor/bootstrap/js/bootstrap.min.js"></script>

            <!-- Custom Theme JavaScript -->
            <script src="../dist/js/sb-admin-2.js"></script>

            <script src="../vendor/pivotjs/pivot.min.js" type="text/javascript"></script>

            <script src="../vendor/mustache/mustache.js" type="text/javascript"></script>

            <script>
                        $(document).ready(function () {

                            $.get('include/templates.html', function (templates) {
                                // Fetch the <script /> block from the loaded external
                                // template file which contains our greetings template.
                                var template = $(templates).filter('#must-nav-bar').html();
                                $('#must-nav').append(Mustache.render(template));
                            });

                            ko.applyBindings(viewModel);

                            // $('.demo').dropdown({});
                            //$('#couty-list').multiselect();
                            //$('#constituency-list').multiselect();
                            //$('#ward-list').multiselect();
                        });

            </script>
            <!-- jquery date picker -->
            <script src="../vendor/jquery/jquery-ui-datepicker/jquery-ui.js"></script>

            <script type="text/javascript" src="../vendor/knockout/knockout-3.4.2.js"></script>
            <!--<script src="../dist/js/dsl/model/Dhis.js"></script>-->
            <script src="../dist/js/dsl/common/data-loader.js" type="text/javascript"></script>
            <script src="../dist/js/dsl/viewmodel/Dhis.js"></script>
            <script src="../dist/js/dsl/viewmodel/Location.js"></script>
            <script src="../dist/js/dsl/viewmodel/kmfl.js" type="text/javascript"></script>
            <script src="../dist/js/dsl/viewmodel/kemsa.js" type="text/javascript"></script>
            <script src="../dist/js/dsl/viewmodel/ihris.js" type="text/javascript"></script>
            <script src="../dist/js/dsl/main.js"></script>

            <!-- pivot -->

            <link href="../vendor/jquery/multi-select/jquery.dropdown.min.css" rel="stylesheet" type="text/css"/>
            <!--<script src="../vendor/jquery/multi-select/jquery.dropdown.min.js" type="text/javascript"></script>-->
            <script src="../vendor/jquery/multi-select/jquery.dropdown.min.js" type="text/javascript"></script>
            <!--<script src="../vendor/jquery/multi-select/tt.js" type="text/javascript"></script>-->
            
            <!-- Charting -->
            <link href="../vendor/c3/c3.min.css" rel="stylesheet" type="text/css"/>
            <script src="../vendor/d3/d3.min.js" type="text/javascript"></script>
            <script src="../vendor/c3/c3.min.js" type="text/javascript"></script>

            <!-- Pivot js renderers -->
            <script src="../vendor/pivotjs/c3_renderers.min.js" type="text/javascript"></script>




            <script>
                        $(document).ready(function () {

                            var dataTable=$('#example').DataTable({
                                "columnDefs": [{
                                        "visible": false,
                                        "targets": -1
                                    }]
                            });
                          //  dataTable.destroy();
                            ko.applyBindings(viewModel);

                            // $('.demo').dropdown({});
                            //$('#couty-list').multiselect();
                            //$('#constituency-list').multiselect();
                            //$('#ward-list').multiselect();
                        });


                        $(function () {
                            $(".time-period").datepicker({
                                dateFormat: "dd/mm/yy",
                                changeYear: true,
                                yearRange: "-10:nn"

                            });
                        });


                        var sum = $.pivotUtilities.aggregatorTemplates.sum;
                        var numberFormat = $.pivotUtilities.numberFormat;
                        var intFormat = numberFormat({digitsAfterDecimal: 0});

                        //pivot

                        var derivers = $.pivotUtilities.derivers;
                        var renderers = $.extend($.pivotUtilities.renderers,
                                $.pivotUtilities.c3_renderers);
//                var renderers = $.pivotUtilities.renderers

//                var renderers = $.pivotUtilities.c3_renderers;
                        var tpl = $.pivotUtilities.aggregatorTemplates;
                        var intFormat = numberFormat({digitsAfterDecimal: 0});
                        $("#output").pivotUI(
                                [
                                    {indicator: "antinatal", facility: "embakasi", value: 20, cadre: "nurse(6)"},
                                    {indicator: "antinatal", facility: "ngara", value: 26, cadre: "ent(10)"},
                                    {indicator: "antinatal", facility: "shauri-moyo", value: 24, cadre: "dental(4)"},
                                    {indicator: "antinatal", facility: "zimmerman hospital", value: 49, cadre: "nurse(30)"},
                                    {indicator: "sickle", facility: "embakasi", value: 23, cadre: "ent(3)"},
                                    {indicator: "sickle", facility: "ngara", value: 25, cadre: "nurse(30)"},
                                    {indicator: "sickle", facility: "shauri-moyo", value: 24, cadre: "pychiatrist(30)"},
                                    {indicator: "sickle", facility: "zimmerman hospital", value: 48, cadre: "doc(30)"}

                                ],
                                {
                                    cols: ["indicator"],
                                    rows: ["facility", "cadre"],
                                    rendererName: "Horizontal Stacked Bar Chart",
                                    renderers: renderers,
                                    rendererOptions: {
                                        c3: {data: {colors: {
                                                    Liberal: '#dc3912', Conservative: '#3366cc', NDP: '#ff9900',
                                                    Green: '#109618', 'Bloc Quebecois': '#990099'
                                                }}}},
                                    aggregators: {
                                        "Indicator value": function () {
                                            return tpl.average(intFormat)(["value"])
                                        }//,
                                        //"Indicator summary": function () {return tpl.count()(["value"])}
                                    }
                                }
                        );
                        $.pivotUtilities.c3_renderers;




            </script>
        </div>
    </body>

</html>
